# KV

Это сервис для работы с in memory key value хранилищем.
Сервис создавался как тестовое задание на собеседование.

## API

Все методы имеют префикс /api/v1

### Set
Сохранение значения под ключом. Если значение с таким ключом уже есть, то перезатирает его.

__POST__
URL: /kv

Тело запроса:

```json
{
    "key": "ключ",
    "value": "значение"
}
```

value может быть любого типа данных JSON

Ответ: http-код 204

[Коды ошибок](#Коды-ошибок-api): 1, 3

### Get

Получает значение под ключом.

__GET__
URL: /kv/{key}

Параметры:

* `{key}` - ключ значения

Успешный ответ: http-код 200

```json
{
    "value": "значение"
}
```

value может быть любого типа данных JSON

[Коды ошибок](#Коды-ошибок-api): 1, 2

### Delete

Получает значение под ключом.

__DELETE__
URL: /kv/{key}

Параметры:

* `{key}` - ключ значения

Успешный ответ: http-код 204

[Коды ошибок](#Коды-ошибок-api): 1

### List

Получает содержимое хранилища.

__GET__
URL: /kv

Успешный ответ: http-код 200

```json
{
    "имя ключа": "значение ключа"
}
```

[Коды ошибок](#Коды-ошибок-api): 1


## Коды ошибок api:

* 1 - внутрення ошибка api (http код 500)
* 2 - значение не найдено (http код 404)
* 3 - ошибка при декодировании сообщения (http код 400)

## Ответ с ошибкой

```json
{
    "errCode": 1,
    "error": "текс ошибки",
    "details": "опциональная дополнительная информация об ошибке"
}
```

## Скрипты для работы с сервисом

* make test - запустит тесты сервиса
* make build - соберет образ с сервисом
* make run - запустит образ с сервисом 